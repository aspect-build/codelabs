# Test output information
test --test_output=errors --test_summary=detailed

# Allow resolving protoc from a pre-built toolchain
common --incompatible_enable_proto_toolchain_resolution

# Don't report when the root module's lower bound for a dependency happens to be less than the resolved version.
# This is expected and should NOT prompt an engineer to update our lower bound to match.
# WARNING: For repository 'aspect_bazel_lib', the root module requires module version aspect_bazel_lib@1.30.2,
# but got aspect_bazel_lib@1.31.2 in the resolved dependency graph.
common --check_direct_dependencies=off

# passes an argument `--skipLibCheck` to *every* spawn of tsc
common --@aspect_rules_ts//ts:skipLibCheck=always

build --enable_platform_specific_config
# linux, macos, windows, freebsd, and openbsd.

build:linux --cxxopt='-std=c++17'
build:macos --cxxopt='-std=c++17'
build:windows --cxxopt='-std:c++17' # Note slightly different syntax.

# Not ready to adopt https://bazel.build/external/lockfile yet - it still has stability bugs.
common --lockfile_mode=off
